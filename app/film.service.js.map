{"version":3,"sources":["../../src/app/film.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAO2B,WAAW;gBAWtC,qBAAoB,IAAU;oBAAV,SAAI,GAAJ,IAAI,CAAM;oBAV9B,iBAAY,GAAG,IAAI,mBAAY,EAAU,CAAC;oBAElC,UAAK,GAAW;wBACxB,IAAI,WAAI,CAAC,UAAU,EAAE,SAAS,EAAE,6DAA6D,EAAE;4BAC7F,IAAI,aAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;4BACtB,IAAI,aAAK,CAAC,OAAO,EAAE,CAAC,CAAC;yBACpB,CAAC;wBACJ,IAAI,WAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,yFAAyF,EAAE,EACvH,CAAC;qBACH,CAAC;gBAC+B,CAAC;gBAElC,8BAAQ,GAAR;oBACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;gBACpB,CAAC;gBACD,6BAAO,GAAP,UAAQ,EAAU;oBAChB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBACxB,CAAC;gBAED,gCAAU,GAAV,UAAW,IAAU;oBACnB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBACjD,CAAC;gBAED,6BAAO,GAAP,UAAQ,IAAU;oBAChB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBAED,8BAAQ,GAAR,UAAS,OAAa,EAAE,OAAa;oBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC;gBACpD,CAAC;gBAED,+BAAS,GAAT;oBACE,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACxC,IAAM,OAAO,GAAG,IAAI,cAAO,CAAC;wBAC1B,cAAc,EAAE,kBAAkB;qBACnC,CAAC,CAAC;oBACH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,kDAAkD,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC;gBACrG,CAAC;gBAED,+BAAS,GAAT;oBAAA,iBASC;oBARC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,kDAAkD,CAAC;yBACvE,GAAG,CAAC,UAAC,QAAkB,IAAK,OAAA,QAAQ,CAAC,IAAI,EAAE,EAAf,CAAe,CAAC;yBAC5C,SAAS,CACR,UAAC,IAAY;wBACX,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;wBAClB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACrC,CAAC,CACA,CAAC;gBACN,CAAC;gBAAG,kBAAC;YAAD,CAjDU,AAiDT,IAAA;YAjDsB,WAAW;gBAArC,iBAAU,EAAE;iDAWa,WAAI;eAXH,WAAW,CAiDjC;;QAAA,CAAC","file":"film.service.js","sourcesContent":["import {Injectable, EventEmitter} from '@angular/core';\r\nimport { Headers, Http, Response } from \"@angular/http\";\r\nimport 'rxjs/Rx';\r\n\r\nimport {Item} from './item';\r\nimport {Movie} from './movie';\r\n\r\n@Injectable() export class FilmService {\r\nfilmsChanged = new EventEmitter<Item[]>();\r\n\r\nprivate films: Item[] = [\r\nnew Item('Выживший', 'History', 'http://www.theshiznit.co.uk/media/2016/January/revenant.jpg', [\r\n  new Movie('Action', 2),\r\n  new Movie('Horor', 5)\r\n  ]),\r\nnew Item('DEADPOOL', 'Action', 'https://s-media-cache-ak0.pinimg.com/564x/f0/86/d7/f086d7dc68221aaebf5bb96bd714376e.jpg', [\r\n  ])\r\n];\r\nconstructor(private http: Http) {}\r\n\r\ngetFilms() {\r\n  return this.films;\r\n}\r\ngetFilm(id: number) {\r\n  return this.films[id];\r\n}\r\n\r\ndeleteFilm(film: Item) {\r\n  this.films.splice(this.films.indexOf(film), 1);\r\n}\r\n\r\naddFilm(film: Item) {\r\n  this.films.push(film);\r\n}\r\n\r\neditFilm(oldFilm: Item, newFilm: Item) {\r\n  this.films[this.films.indexOf(oldFilm)] = newFilm;\r\n}\r\n\r\nstoreData() {\r\n  const body = JSON.stringify(this.films);\r\n  const headers = new Headers({\r\n    'Content-Type': 'application/json'\r\n  });\r\n  return this.http.put('https://filmsapp-97d0c.firebaseio.com/films.json', body, {headers: headers});\r\n}\r\n\r\nfetchData() {\r\n  return this.http.get('https://filmsapp-97d0c.firebaseio.com/films.json')\r\n  .map((response: Response) => response.json())\r\n  .subscribe(\r\n    (data: Item[]) => {\r\n      this.films = data;\r\n      this.filmsChanged.emit(this.films);\r\n    }\r\n    );\r\n}   }"],"sourceRoot":"/src"}